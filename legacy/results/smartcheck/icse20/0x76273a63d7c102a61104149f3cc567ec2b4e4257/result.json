{
  "contract": "0x76273a63d7c102a61104149f3cc567ec2b4e4257",
  "tool": "smartcheck",
  "start": 1563613104.0343509,
  "end": 1563613113.701181,
  "duration": 9.666830062866211,
  "analysis": [
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 4,
      "column": 2,
      "content": "functionbalanceOf(address_who)constantreturns(uintbalance);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 5,
      "column": 2,
      "content": "functionallowance(address_owner,address_spender)constantreturns(uintremaining);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 41,
      "column": 2,
      "content": "functionmax64(uint64a,uint64b)internalconstantreturns(uint64){returna>=b?a:b;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 45,
      "column": 2,
      "content": "functionmin64(uint64a,uint64b)internalconstantreturns(uint64){returna<b?a:b;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 49,
      "column": 2,
      "content": "functionmax256(uint256a,uint256b)internalconstantreturns(uint256){returna>=b?a:b;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 53,
      "column": 2,
      "content": "functionmin256(uint256a,uint256b)internalconstantreturns(uint256){returna<b?a:b;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 118,
      "column": 2,
      "content": "functiongetBookingCount(address_who)constantreturns(uintcount){returnbookings[_who].length;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 121,
      "column": 2,
      "content": "functiongetBooking(address_who,uint_index)constantreturns(uint_unicornCount,VisitType_type,uint_startBlock,uint_expiresBlock,VisitState_state){Visitstoragev=bookings[_who][_index];return(v.unicornCount,v.t,v.startBlock,v.expiresBlock,v.state);}"
    },
    {
      "name": "SOLIDITY_DIV_MUL",
      "patternId": "09hhh1",
      "severity": 2,
      "line": 196,
      "column": 21,
      "content": "uint(birthPerHundred).mul(v.unicornCount/100)"
    },
    {
      "name": "SOLIDITY_DIV_MUL",
      "patternId": "09hhh1",
      "severity": 2,
      "line": 198,
      "column": 21,
      "content": "uint(birthPerTen).mul(v.unicornCount/10)"
    },
    {
      "name": "SOLIDITY_DIV_MUL",
      "patternId": "09hhh1",
      "severity": 2,
      "line": 238,
      "column": 22,
      "content": "uint(repossessionBountyPerHundred).mul(v.unicornCount/100)"
    },
    {
      "name": "SOLIDITY_DIV_MUL",
      "patternId": "09hhh1",
      "severity": 2,
      "line": 240,
      "column": 20,
      "content": "uint(repossessionBountyPerTen).mul(v.unicornCount/10)"
    },
    {
      "name": "SOLIDITY_PRAGMAS_VERSION",
      "patternId": "23fc32",
      "severity": 1,
      "line": 1,
      "column": 16,
      "content": "^"
    },
    {
      "name": "SOLIDITY_SAFEMATH",
      "patternId": "837cac",
      "severity": 1,
      "line": 59,
      "column": 2,
      "content": "usingSafeMathforuint;"
    },
    {
      "name": "SOLIDITY_UPGRADE_TO_050",
      "patternId": "901eae",
      "severity": 1,
      "line": 165,
      "column": 24,
      "content": "keccak256(msg.sender,newIndex)"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 4,
      "column": 2,
      "content": "functionbalanceOf(address_who)constantreturns(uintbalance);"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 5,
      "column": 2,
      "content": "functionallowance(address_owner,address_spender)constantreturns(uintremaining);"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 6,
      "column": 2,
      "content": "functiontransferFrom(address_from,address_to,uint_value);"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 7,
      "column": 2,
      "content": "functiontransfer(address_to,uint_value);"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 101,
      "column": 2,
      "content": "functionUnicornRanch(){visitLength[uint8(VisitType.Spa)]=720;visitLength[uint8(VisitType.Afternoon)]=1440;visitLength[uint8(VisitType.Day)]=2880;visitLength[uint8(VisitType.Overnight)]=8640;visitLength[uint8(VisitType.Week)]=60480;visitLength[uint8(VisitType.Extended)]=120960;visitCost[uint8(VisitType.Spa)]=0;visitCost[uint8(VisitType.Afternoon)]=0;visitCost[uint8(VisitType.Day)]=1szabo;visitCost[uint8(VisitType.Overnight)]=1szabo;visitCost[uint8(VisitType.Week)]=1szabo;visitCost[uint8(VisitType.Extended)]=1szabo;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 118,
      "column": 2,
      "content": "functiongetBookingCount(address_who)constantreturns(uintcount){returnbookings[_who].length;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 121,
      "column": 2,
      "content": "functiongetBooking(address_who,uint_index)constantreturns(uint_unicornCount,VisitType_type,uint_startBlock,uint_expiresBlock,VisitState_state){Visitstoragev=bookings[_who][_index];return(v.unicornCount,v.t,v.startBlock,v.expiresBlock,v.state);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 126,
      "column": 2,
      "content": "functionbookSpaVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Spa,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 129,
      "column": 2,
      "content": "functionbookAfternoonVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Afternoon,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 132,
      "column": 2,
      "content": "functionbookDayVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Day,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 135,
      "column": 2,
      "content": "functionbookOvernightVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Overnight,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 138,
      "column": 2,
      "content": "functionbookWeekVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Week,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 141,
      "column": 2,
      "content": "functionbookExtendedVisit(uint_unicornCount)payable{returnaddBooking(VisitType.Extended,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 145,
      "column": 2,
      "content": "functionaddBooking(VisitType_type,uint_unicornCount)payable{if(_type==VisitType.Afternoon){returndonateUnicorns(availableBalance(msg.sender));}require(msg.value>=visitCost[uint8(_type)].mul(_unicornCount));ERC20TokencardboardUnicorns=ERC20Token(cardboardUnicornTokenAddress);cardboardUnicorns.transferFrom(msg.sender,address(this),_unicornCount);visitingUnicorns=visitingUnicorns.add(_unicornCount);uintexpiresBlock=block.number.add(visitLength[uint8(_type)]);bookings[msg.sender].push(Visit(_unicornCount,_type,block.number,expiresBlock,VisitState.InProgress));uintnewIndex=bookings[msg.sender].length-1;bytes32uniqueKey=keccak256(msg.sender,newIndex);bookingMetadataForKey[uniqueKey]=VisitMeta(msg.sender,newIndex);if(groveAddress>0){GroveAPIg=GroveAPI(groveAddress);g.insert(\"bookingExpiration\",uniqueKey,int(expiresBlock));}NewBooking(msg.sender,newIndex,_type,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 183,
      "column": 2,
      "content": "functioncompleteBooking(uint_index){require(bookings[msg.sender].length>_index);Visitstoragev=bookings[msg.sender][_index];require(block.number>=v.expiresBlock);require(v.state==VisitState.InProgress);uintunicornsToReturn=v.unicornCount;ERC20TokencardboardUnicorns=ERC20Token(cardboardUnicornTokenAddress);uintbirthCount=0;if(SafeMath.sub(block.number,v.startBlock)>=birthBlockThreshold){if(v.unicornCount>=100){birthCount=uint(birthPerHundred).mul(v.unicornCount/100);}elseif(v.unicornCount>=10){birthCount=uint(birthPerTen).mul(v.unicornCount/10);}}if(birthCount>0){uintavailableUnicorns=cardboardUnicorns.balanceOf(address(this))-visitingUnicorns;if(availableUnicorns<birthCount){birthCount=availableUnicorns;}unicornsToReturn=unicornsToReturn.add(birthCount);}v.state=VisitState.Completed;bookings[msg.sender][_index]=v;visitingUnicorns=visitingUnicorns.sub(unicornsToReturn);cardboardUnicorns.transfer(msg.sender,unicornsToReturn);BookingUpdate(msg.sender,_index,VisitState.Completed,unicornsToReturn);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 221,
      "column": 2,
      "content": "functionrepossessBooking(address_who,uint_index){require(bookings[_who].length>_index);Visitstoragev=bookings[_who][_index];require(block.number>v.expiresBlock.add(repossessionBlocks));require(v.state==VisitState.InProgress);v.state=VisitState.Repossessed;bookings[_who][_index]=v;visitingUnicorns=visitingUnicorns.sub(v.unicornCount);BookingUpdate(_who,_index,VisitState.Repossessed,v.unicornCount);uintbountyCount=1;if(v.unicornCount>=100){bountyCount=uint(repossessionBountyPerHundred).mul(v.unicornCount/100);}elseif(v.unicornCount>=10){bountyCount=uint(repossessionBountyPerTen).mul(v.unicornCount/10);}ERC20TokencardboardUnicorns=ERC20Token(cardboardUnicornTokenAddress);cardboardUnicorns.transfer(msg.sender,bountyCount);RepossessionBounty(msg.sender,bountyCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 264,
      "column": 2,
      "content": "function()payable{if(cardboardUnicornTokenAddress==0){return;}returndonateUnicorns(availableBalance(msg.sender));}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 271,
      "column": 2,
      "content": "functiondonateUnicorns(uint_unicornCount)payable{if(_unicornCount==0){return;}ERC20TokencardboardUnicorns=ERC20Token(cardboardUnicornTokenAddress);cardboardUnicorns.transferFrom(msg.sender,address(this),_unicornCount);DonationReceived(msg.sender,_unicornCount);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 283,
      "column": 2,
      "content": "functionchangeOwner(address_newOwner)onlyOwner{owner=_newOwner;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 290,
      "column": 2,
      "content": "functionchangeCardboardUnicornTokenAddress(address_newTokenAddress)onlyOwner{cardboardUnicornTokenAddress=_newTokenAddress;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 293,
      "column": 2,
      "content": "functionchangeGroveAddress(address_newAddress)onlyOwner{groveAddress=_newAddress;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 300,
      "column": 2,
      "content": "functionchangeVisitLengths(uint_spa,uint_afternoon,uint_day,uint_overnight,uint_week,uint_extended)onlyOwner{visitLength[uint8(VisitType.Spa)]=_spa;visitLength[uint8(VisitType.Afternoon)]=_afternoon;visitLength[uint8(VisitType.Day)]=_day;visitLength[uint8(VisitType.Overnight)]=_overnight;visitLength[uint8(VisitType.Week)]=_week;visitLength[uint8(VisitType.Extended)]=_extended;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 312,
      "column": 2,
      "content": "functionchangeVisitCosts(uint_spa,uint_afternoon,uint_day,uint_overnight,uint_week,uint_extended)onlyOwner{visitCost[uint8(VisitType.Spa)]=_spa;visitCost[uint8(VisitType.Afternoon)]=_afternoon;visitCost[uint8(VisitType.Day)]=_day;visitCost[uint8(VisitType.Overnight)]=_overnight;visitCost[uint8(VisitType.Week)]=_week;visitCost[uint8(VisitType.Extended)]=_extended;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 324,
      "column": 2,
      "content": "functionchangeRepoSettings(uint_repoBlocks,uint8_repoPerTen,uint8_repoPerHundred)onlyOwner{repossessionBlocks=_repoBlocks;repossessionBountyPerTen=_repoPerTen;repossessionBountyPerHundred=_repoPerHundred;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 333,
      "column": 2,
      "content": "functionchangeBirthSettings(uint_birthBlocks,uint8_birthPerTen,uint8_birthPerHundred)onlyOwner{birthBlockThreshold=_birthBlocks;birthPerTen=_birthPerTen;birthPerHundred=_birthPerHundred;}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 339,
      "column": 2,
      "content": "functionwithdraw()onlyOwner{owner.transfer(this.balance);}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": 910067,
      "severity": 1,
      "line": 342,
      "column": 2,
      "content": "functionwithdrawForeignTokens(address_tokenContract)onlyOwner{ERC20Tokentoken=ERC20Token(_tokenContract);token.transfer(owner,token.balanceOf(address(this)));}"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 79,
      "column": 2,
      "content": "mapping(address=>Visit[])bookings;"
    }
  ]
}