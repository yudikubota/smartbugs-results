{
  "contract": "0x2aaefbac989f8951436c36474c304af7bf31bb26",
  "tool": "smartcheck",
  "start": 1563572876.1871362,
  "end": 1563572887.0211275,
  "duration": 10.833991289138794,
  "analysis": [
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 404,
      "column": 8,
      "content": "_realmSale.bidder=address(0)"
    },
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 577,
      "column": 8,
      "content": "_castleSale.bidder=address(0)"
    },
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 791,
      "column": 8,
      "content": "_guardianSale.bidder=address(0)"
    },
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 885,
      "column": 8,
      "content": "GuardianVendToBidder[_guardianId]=address(0)"
    },
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 1076,
      "column": 8,
      "content": "_discipleSale.bidder=address(0)"
    },
    {
      "name": "SOLIDITY_ADDRESS_HARDCODED",
      "patternId": "a91b18",
      "severity": 1,
      "line": 1167,
      "column": 8,
      "content": "DiscipleVendToBidder[_discipleId]=address(0)"
    },
    {
      "name": "SOLIDITY_LOCKED_MONEY",
      "patternId": "30281d",
      "severity": 3,
      "line": 1188,
      "column": 0,
      "content": "contractPreSaleAssetsisPreSaleDisciple{eventBuyDiscipleItem(addressindexedbuyer,uintindexedrarity,uintindexednumber,uintcurrentPrice);eventBuyGuardianRune(addressindexedbuyer,uintindexedrarity,uintindexednumber,uintcurrentPrice);eventSetDiscipleItem(uintindexedrarity,uintindexedprice);eventSetGuardianRune(uintindexedrarity,uintindexedprice);mapping(address=>uint)PlayerOwnRareItem;mapping(address=>uint)PlayerOwnEpicItem;mapping(address=>uint)PlayerOwnLegendaryItem;mapping(address=>uint)PlayerOwnUniqueItem;mapping(address=>uint)PlayerOwnRareRune;mapping(address=>uint)PlayerOwnEpicRune;mapping(address=>uint)PlayerOwnLegendaryRune;mapping(address=>uint)PlayerOwnUniqueRune;uint[4]publicDiscipleItem=[0.68ether,1.98ether,4.88ether,9.98ether];uint[4]publicGuardianRune=[1.18ether,4.88ether,8.88ether,13.88ether];uintitemTimeStamp;uintruneTimeStamp;functionbuyDiscipleItem(uint_rarity,uint_num,uint_brokerId,uint_subBrokerId)publicpayablewhenNotPaused{require(_rarity>=0&&_rarity<=3);uintcurrentPrice;if(pricePause==true){if(itemTimeStamp!=0&&itemTimeStamp!=endTime){uinttimePass=safeSub(endTime,startTime);DiscipleItem[0]=_computePrice(DiscipleItem[0],DiscipleItem[0]*raiseIndex[2],preSaleDurance,timePass);DiscipleItem[1]=_computePrice(DiscipleItem[1],DiscipleItem[1]*raiseIndex[2],preSaleDurance,timePass);DiscipleItem[2]=_computePrice(DiscipleItem[2],DiscipleItem[2]*raiseIndex[2],preSaleDurance,timePass);DiscipleItem[3]=_computePrice(DiscipleItem[3],DiscipleItem[3]*raiseIndex[2],preSaleDurance,timePass);itemTimeStamp=endTime;}require(msg.value>=DiscipleItem[_rarity]*_num);currentPrice=DiscipleItem[_rarity]*_num;_brokerFeeDistribute(currentPrice,2,_brokerId,_subBrokerId);}else{if(itemTimeStamp==0){itemTimeStamp=uint(now);}currentPrice=_computePrice(DiscipleItem[_rarity],DiscipleItem[_rarity]*raiseIndex[2],preSaleDurance,safeSub(uint(now),startTime));require(msg.value>=currentPrice*_num);currentPrice=currentPrice*_num;_brokerFeeDistribute(currentPrice,2,_brokerId,_subBrokerId);}if(_rarity==0){PlayerOwnRareItem[msg.sender]=safeAdd(PlayerOwnRareItem[msg.sender],_num);}elseif(_rarity==1){PlayerOwnEpicItem[msg.sender]=safeAdd(PlayerOwnEpicItem[msg.sender],_num);}elseif(_rarity==2){PlayerOwnLegendaryItem[msg.sender]=safeAdd(PlayerOwnLegendaryItem[msg.sender],_num);}elseif(_rarity==3){PlayerOwnUniqueItem[msg.sender]=safeAdd(PlayerOwnUniqueItem[msg.sender],_num);}emitBuyDiscipleItem(msg.sender,_rarity,_num,currentPrice);}functionbuyGuardianRune(uint_rarity,uint_num,uint_brokerId,uint_subBrokerId)publicpayablewhenNotPaused{require(_rarity>=0&&_rarity<=3);uintcurrentPrice;if(pricePause==true){if(runeTimeStamp!=0&&runeTimeStamp!=endTime){uinttimePass=safeSub(endTime,startTime);GuardianRune[0]=_computePrice(GuardianRune[0],GuardianRune[0]*raiseIndex[2],preSaleDurance,timePass);GuardianRune[1]=_computePrice(GuardianRune[1],GuardianRune[1]*raiseIndex[2],preSaleDurance,timePass);GuardianRune[2]=_computePrice(GuardianRune[2],GuardianRune[2]*raiseIndex[2],preSaleDurance,timePass);GuardianRune[3]=_computePrice(GuardianRune[3],GuardianRune[3]*raiseIndex[2],preSaleDurance,timePass);runeTimeStamp=endTime;}require(msg.value>=GuardianRune[_rarity]*_num);currentPrice=GuardianRune[_rarity]*_num;_brokerFeeDistribute(currentPrice,2,_brokerId,_subBrokerId);}else{if(runeTimeStamp==0){runeTimeStamp=uint(now);}currentPrice=_computePrice(GuardianRune[_rarity],GuardianRune[_rarity]*raiseIndex[2],preSaleDurance,safeSub(uint(now),startTime));require(msg.value>=currentPrice*_num);currentPrice=currentPrice*_num;_brokerFeeDistribute(currentPrice,2,_brokerId,_subBrokerId);}if(_rarity==0){PlayerOwnRareRune[msg.sender]=safeAdd(PlayerOwnRareRune[msg.sender],_num);}elseif(_rarity==1){PlayerOwnEpicRune[msg.sender]=safeAdd(PlayerOwnEpicRune[msg.sender],_num);}elseif(_rarity==2){PlayerOwnLegendaryRune[msg.sender]=safeAdd(PlayerOwnLegendaryRune[msg.sender],_num);}elseif(_rarity==3){PlayerOwnUniqueRune[msg.sender]=safeAdd(PlayerOwnUniqueRune[msg.sender],_num);}emitBuyGuardianRune(msg.sender,_rarity,_num,currentPrice);}functionsetDiscipleItem(uint_rarity,uint_price)publiconlyAdmin{DiscipleItem[_rarity]=_price;emitSetDiscipleItem(_rarity,_price);}functionsetGuardianRune(uint_rarity,uint_price)publiconlyAdmin{GuardianRune[_rarity]=_price;emitSetDiscipleItem(_rarity,_price);}functiongetPlayerInventory(address_player)publicviewreturns(uintrareItem,uintepicItem,uintlegendaryItem,uintuniqueItem,uintrareRune,uintepicRune,uintlegendaryRune,uintuniqueRune){rareItem=PlayerOwnRareItem[_player];epicItem=PlayerOwnEpicItem[_player];legendaryItem=PlayerOwnLegendaryItem[_player];uniqueItem=PlayerOwnUniqueItem[_player];rareRune=PlayerOwnRareRune[_player];epicRune=PlayerOwnEpicRune[_player];legendaryRune=PlayerOwnLegendaryRune[_player];uniqueRune=PlayerOwnUniqueRune[_player];}}"
    },
    {
      "name": "SOLIDITY_PRAGMAS_VERSION",
      "patternId": "23fc32",
      "severity": 1,
      "line": 1,
      "column": 16,
      "content": "^"
    },
    {
      "name": "SOLIDITY_UPGRADE_TO_050",
      "patternId": "341gim",
      "severity": 1,
      "line": 154,
      "column": 59,
      "content": "string"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 36,
      "column": 4,
      "content": "uintoneEth=1ether;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 46,
      "column": 4,
      "content": "uint[3]raiseIndex=[3,7,5];"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 52,
      "column": 4,
      "content": "uint[3]rewardPercent=[15,25,30];"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 172,
      "column": 4,
      "content": "mapping(uint=>address[])BrokerIdToBrokers;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 173,
      "column": 4,
      "content": "mapping(uint=>uint)BrokerIdToSpots;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 174,
      "column": 4,
      "content": "mapping(address=>uint)BrokerIncoming;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 175,
      "column": 4,
      "content": "mapping(address=>bool)UserToIfBroker;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 289,
      "column": 4,
      "content": "mapping(uint=>bool)RealmIdToIfCreated;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 303,
      "column": 4,
      "content": "RealmSale[]realmSales;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 457,
      "column": 4,
      "content": "mapping(uint=>bool)CastleIdToIfCreated;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 473,
      "column": 4,
      "content": "CastleSale[]castleSales;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 640,
      "column": 4,
      "content": "mapping(uint=>bool)GuardianIdToIfCreated;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 661,
      "column": 4,
      "content": "GuardianSale[]guardianSales;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 663,
      "column": 4,
      "content": "uint[5]GuardianVending=[0.5ether,0.35ether,0.20ether,0.15ether,0.1ether];"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 928,
      "column": 4,
      "content": "mapping(uint=>bool)DiscipleIdToIfCreated;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 948,
      "column": 4,
      "content": "DiscipleSale[]discipleSales;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 950,
      "column": 4,
      "content": "uint[5]DiscipleVending=[0.8ether,0.65ether,0.45ether,0.35ether,0.2ether];"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1201,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnRareItem;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1202,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnEpicItem;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1203,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnLegendaryItem;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1204,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnUniqueItem;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1206,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnRareRune;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1207,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnEpicRune;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1208,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnLegendaryRune;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1209,
      "column": 4,
      "content": "mapping(address=>uint)PlayerOwnUniqueRune;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1228,
      "column": 4,
      "content": "uintitemTimeStamp;"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "b51ce0",
      "severity": 1,
      "line": 1229,
      "column": 4,
      "content": "uintruneTimeStamp;"
    }
  ]
}