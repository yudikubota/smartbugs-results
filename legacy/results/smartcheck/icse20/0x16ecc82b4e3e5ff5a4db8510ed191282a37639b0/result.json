{
  "contract": "0x16ecc82b4e3e5ff5a4db8510ed191282a37639b0",
  "tool": "smartcheck",
  "start": 1563479022.9065495,
  "end": 1563479035.7963097,
  "duration": 12.889760255813599,
  "analysis": [
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 122,
      "column": 4,
      "content": "functiongetSizeArrayType(ArrayType_type,uint64_id)constantpublicreturns(uint);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 123,
      "column": 4,
      "content": "functiongetElementInArrayType(ArrayType_type,uint64_id,uint_index)constantpublicreturns(uint8);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 124,
      "column": 4,
      "content": "functiongetMonsterClass(uint32_classId)constantpublicreturns(uint32classId,uint256price,uint256returnPrice,uint32total,boolcatchable);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 125,
      "column": 4,
      "content": "functiongetMonsterObj(uint64_objId)constantpublicreturns(uint64objId,uint32classId,addresstrainer,uint32exp,uint32createIndex,uint32lastClaimIndex,uintcreateTime);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 126,
      "column": 4,
      "content": "functiongetMonsterName(uint64_objId)constantpublicreturns(stringname);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 127,
      "column": 4,
      "content": "functiongetExtraBalance(address_trainer)constantpublicreturns(uint256);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 128,
      "column": 4,
      "content": "functiongetMonsterDexSize(address_trainer)constantpublicreturns(uint);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 129,
      "column": 4,
      "content": "functiongetMonsterObjId(address_trainer,uintindex)constantpublicreturns(uint64);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 130,
      "column": 4,
      "content": "functiongetExpectedBalance(address_trainer)constantpublicreturns(uint256);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 131,
      "column": 4,
      "content": "functiongetMonsterReturn(uint64_objId)constantpublicreturns(uint256current,uint256total);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 136,
      "column": 4,
      "content": "functiongetHatchingEggId(address_trainer)constantexternalreturns(uint64);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 137,
      "column": 4,
      "content": "functiongetHatchingEggData(address_trainer)constantexternalreturns(uint64,uint64,uint32,address,uint,uint64);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 138,
      "column": 4,
      "content": "functiongetTranformedId(uint64_objId)constantexternalreturns(uint64);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 139,
      "column": 4,
      "content": "functioncountEgg(uint64_objId)constantexternalreturns(uint);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 148,
      "column": 4,
      "content": "functiongetGen0COnfig(uint32_classId)constantpublicreturns(uint32,uint256,uint32);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 149,
      "column": 4,
      "content": "functiongetTrainerEarn(address_trainer)constantpublicreturns(uint256);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 150,
      "column": 4,
      "content": "functiongetReturnFromMonster(uint64_objId)constantpublicreturns(uint256current,uint256total);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 151,
      "column": 4,
      "content": "functiongetClassPropertyValue(uint32_classId,EtheremonEnum.PropertyType_type,uintindex)constantexternalreturns(uint32);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 152,
      "column": 4,
      "content": "functiongetClassPropertySize(uint32_classId,EtheremonEnum.PropertyType_type)constantexternalreturns(uint);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 156,
      "column": 4,
      "content": "functionisOnBattle(uint64_objId)constantexternalreturns(bool);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 157,
      "column": 4,
      "content": "functiongetMonsterLevel(uint64_objId)constantpublicreturns(uint8);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 161,
      "column": 4,
      "content": "functionisOnTrading(uint64_objId)constantexternalreturns(bool);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 170,
      "column": 4,
      "content": "functiongetRandomClassId(uint_seed)constantexternalreturns(uint32);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 171,
      "column": 4,
      "content": "functiongetLayEggInfo(uint32_classId)constantexternalreturns(uint8layingLevel,uint8layingCost);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 172,
      "column": 4,
      "content": "functiongetTransformInfo(uint32_classId)constantexternalreturns(uint32transformClassId,uint8level);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 173,
      "column": 4,
      "content": "functiongetClassTransformInfo(uint32_classId)constantexternalreturns(uint8layingLevel,uint8layingCost,uint8transformLevel,uint32transformCLassId);"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 252,
      "column": 4,
      "content": "functiongetRandom(address_player,uint_block,uint64_count)constantpublicreturns(uint){returnuint(keccak256(block.blockhash(_block),_player,_count));}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 374,
      "column": 4,
      "content": "functiongetGen0ObjInfo(uint64_objId)constantpublicreturns(uint32,uint32,uint256){EtheremonDataBasedata=EtheremonDataBase(dataContract);MonsterObjAccmemoryobj;(obj.monsterId,obj.classId,obj.trainer,obj.exp,obj.createIndex,obj.lastClaimIndex,obj.createTime)=data.getMonsterObj(_objId);Gen0Configmemorygen0=gen0Config[obj.classId];if(gen0.classId!=obj.classId){return(gen0.classId,obj.createIndex,0);}uint32totalGap=0;if(obj.createIndex<gen0.total)totalGap=gen0.total-obj.createIndex;return(obj.classId,obj.createIndex,safeMult(totalGap,gen0.returnPrice));}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 392,
      "column": 4,
      "content": "functiongetObjClassExp(uint64_objId)constantpublicreturns(uint32,address,uint32){EtheremonDataBasedata=EtheremonDataBase(dataContract);MonsterObjAccmemoryobj;(obj.monsterId,obj.classId,obj.trainer,obj.exp,obj.createIndex,obj.lastClaimIndex,obj.createTime)=data.getMonsterObj(_objId);return(obj.classId,obj.trainer,obj.exp);}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 399,
      "column": 4,
      "content": "functiongetClassCheckOwner(uint64_objId,address_trainer)constantpublicreturns(uint32){EtheremonDataBasedata=EtheremonDataBase(dataContract);MonsterObjAccmemoryobj;uint32_=0;(obj.monsterId,obj.classId,obj.trainer,obj.exp,_,_,obj.createTime)=data.getMonsterObj(_objId);if(_trainer!=obj.trainer)return0;returnobj.classId;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 409,
      "column": 4,
      "content": "functioncalculateMaxEggG0(uint64_objId)constantpublicreturns(uint){uint32classId;uint32createIndex;uint256totalEarn;(classId,createIndex,totalEarn)=getGen0ObjInfo(_objId);if(classId>GEN0_NO||classId==20||classId==21)return0;Gen0Configmemoryconfig=gen0Config[classId];if(createIndex>config.total)return0;uint256avgPrice=config.originalPrice;uintrate=config.originalPrice/config.returnPrice;if(config.total>rate){uintk=config.total-rate;avgPrice=(config.total*config.originalPrice+config.returnPrice*k*(k+1)/2)/config.total;}uint256catchPrice=config.originalPrice;if(createIndex>rate){catchPrice+=config.returnPrice*safeSubtract(createIndex,rate);}if(totalEarn>=catchPrice){return0;}returnceil((catchPrice-totalEarn)*15*1000/avgPrice,10000)/10000;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 527,
      "column": 4,
      "content": "functioncheckAncestors(uint32_classId,address_trainer,uint64_a1,uint64_a2,uint64_a3)constantpublicreturns(bool){EtheremonWorldworld=EtheremonWorld(worldContract);uintindex=0;uint32temp=0;uint32[3]memoryancestors;uint32[3]memoryrequestAncestors;index=world.getClassPropertySize(_classId,PropertyType.ANCESTOR);while(index>0){index-=1;ancestors[index]=world.getClassPropertyValue(_classId,PropertyType.ANCESTOR,index);}if(_a1>0){temp=getClassCheckOwner(_a1,_trainer);if(temp==0)returnfalse;requestAncestors[0]=temp;}if(_a2>0){temp=getClassCheckOwner(_a2,_trainer);if(temp==0)returnfalse;requestAncestors[1]=temp;}if(_a3>0){temp=getClassCheckOwner(_a3,_trainer);if(temp==0)returnfalse;requestAncestors[2]=temp;}if(requestAncestors[0]>0&&(requestAncestors[0]==requestAncestors[1]||requestAncestors[0]==requestAncestors[2]))returnfalse;if(requestAncestors[1]>0&&(requestAncestors[1]==requestAncestors[2]))returnfalse;for(index=0;index<ancestors.length;index++){temp=ancestors[index];if(temp>0&&temp!=requestAncestors[0]&&temp!=requestAncestors[1]&&temp!=requestAncestors[2])returnfalse;}returntrue;}"
    },
    {
      "name": "SOLIDITY_DEPRECATED_CONSTRUCTIONS",
      "patternId": "28fa69",
      "severity": 1,
      "line": 635,
      "column": 4,
      "content": "functiongetBonusEgg(uint64_objId)constantpublicreturns(uint){EtheremonTransformDatatransformData=EtheremonTransformData(transformDataContract);uinttotalBonusEgg=calculateMaxEggG0(_objId);if(totalBonusEgg>0){return(totalBonusEgg-transformData.countEgg(_objId));}return0;}"
    },
    {
      "name": "SOLIDITY_DIV_MUL",
      "patternId": "09hhh1",
      "severity": 2,
      "line": 355,
      "column": 15,
      "content": "((a+m-1)/m)*m"
    },
    {
      "name": "SOLIDITY_EXTRA_GAS_IN_LOOPS",
      "patternId": "d3j11j",
      "severity": 1,
      "line": 564,
      "column": 8,
      "content": "for(index=0;index<ancestors.length;index++){temp=ancestors[index];if(temp>0&&temp!=requestAncestors[0]&&temp!=requestAncestors[1]&&temp!=requestAncestors[2])returnfalse;}"
    },
    {
      "name": "SOLIDITY_GAS_LIMIT_IN_LOOPS",
      "patternId": "f6f853",
      "severity": 2,
      "line": 564,
      "column": 8,
      "content": "for(index=0;index<ancestors.length;index++){temp=ancestors[index];if(temp>0&&temp!=requestAncestors[0]&&temp!=requestAncestors[1]&&temp!=requestAncestors[2])returnfalse;}"
    },
    {
      "name": "SOLIDITY_GAS_LIMIT_IN_LOOPS",
      "patternId": "17f23a",
      "severity": 1,
      "line": 363,
      "column": 15,
      "content": "minIndex<maxIndex"
    },
    {
      "name": "SOLIDITY_PRAGMAS_VERSION",
      "patternId": "23fc32",
      "severity": 1,
      "line": 1,
      "column": 16,
      "content": "^"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 297,
      "column": 8,
      "content": "if(_amount>this.balance){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 327,
      "column": 8,
      "content": "if(egg.eggId==0||egg.trainer!=_trainer||egg.newObjId>0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 339,
      "column": 8,
      "content": "if(transformData.getHatchingEggId(_trainer)>0){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 346,
      "column": 8,
      "content": "if(classId==0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 442,
      "column": 8,
      "content": "if(transformData.getHatchingEggId(msg.sender)>0){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 447,
      "column": 8,
      "content": "if(EtheremonTradeInterface(tradeContract).isOnTrading(_objId))revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 457,
      "column": 8,
      "content": "if(classId==0||owner!=msg.sender){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 466,
      "column": 12,
      "content": "if(transformData.countEgg(_objId)>=calculateMaxEggG0(_objId))revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 472,
      "column": 12,
      "content": "if(layingLevel==0||currentLevel<layingLevel||currentLevel<temp)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 495,
      "column": 8,
      "content": "if(egg.eggId==0||egg.trainer!=msg.sender)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 498,
      "column": 8,
      "content": "if(egg.newObjId>0||egg.hatchTime>block.timestamp){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 513,
      "column": 8,
      "content": "if(egg.eggId==0||egg.trainer!=msg.sender||egg.newObjId>0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 516,
      "column": 8,
      "content": "if(msg.value!=removeHatchingTimeFee){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 575,
      "column": 8,
      "content": "if(transformData.getTranformedId(_objId)>0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 580,
      "column": 8,
      "content": "if(battle.isOnBattle(_objId)||trade.isOnTrading(_objId))revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 586,
      "column": 8,
      "content": "if(objInfo.classId==0||objInfo.owner!=msg.sender)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 592,
      "column": 8,
      "content": "if(transformClass==0||transformLevel==0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 593,
      "column": 8,
      "content": "if(objInfo.level<transformLevel)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 598,
      "column": 12,
      "content": "if(getBonusEgg(_objId)>0)revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 601,
      "column": 12,
      "content": "if(!checkAncestors(objInfo.classId,msg.sender,_a1,_a2,_a3))revert();"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 615,
      "column": 8,
      "content": "if(msg.value!=buyEggFee){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 621,
      "column": 8,
      "content": "if(transformData.getHatchingEggId(msg.sender)>0){revert();}"
    },
    {
      "name": "SOLIDITY_REVERT_REQUIRE",
      "patternId": "c56b12",
      "severity": 1,
      "line": 628,
      "column": 8,
      "content": "if(classId==0)revert();"
    },
    {
      "name": "SOLIDITY_UPGRADE_TO_050",
      "patternId": "901eae",
      "severity": 1,
      "line": 253,
      "column": 20,
      "content": "keccak256(block.blockhash(_block),_player,_count)"
    },
    {
      "name": "SOLIDITY_UPGRADE_TO_050",
      "patternId": "341gim",
      "severity": 1,
      "line": 126,
      "column": 67,
      "content": "stringname"
    },
    {
      "name": "SOLIDITY_VISIBILITY",
      "patternId": "23rt6g",
      "severity": 1,
      "line": 157,
      "column": 53,
      "content": "public"
    }
  ]
}